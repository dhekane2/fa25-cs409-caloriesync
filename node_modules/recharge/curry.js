function handleChange(event, type) {

}

evt => handleChange(evt, 'some_type')

handleChange = type => event => {

}

handleChange('some_type')

function middleware(store) {
  return function didInitializeStack(next) {
    
    firebase.listenToSomething(event => store.dispatch(event.val()))
    return function receiveAction(action) {
      console.log(action)
      next(action)
      console.log(store.getState())
    }
  }
}


const __ = Symbol('__')

function curry(f) {
  const open = slots => (...args) => {
    const newSlots = slots.map(slot =>
      slot === __ && args.length
      ? args.shift()
      : slot
    )
    const full = !newSlots.filter(s => s === __).length
    if (full) return f(...newSlots)
    return open(newSlots)
  }
  return open(new Array(f.length).fill(__))
}

function curryWithUndef(f) {
  const open = slots => (...args) => {
    const newSlots = slots.map(slot =>
      typeof slot === 'undefined' && args.length
      ? args.shift()
      : slot
    )
    let full = true, i = newSlots.length; while(--i >= 0) {
      if (typeof newSlots[i] === 'undefined') {
        full = false; break;
      }
    }
    // const full = !newSlots.filter(s => typeof s === 'undefined').length

    console.log('newSlots=', newSlots, 'full=', full)
    if (full) return f(...newSlots)
    return open(newSlots)
  }
  return open(new Array(f.length).fill(undefined))
}



const sum = (a, b, c) => [a, b, c, a + b + c]

console.log(curry(sum) ('hello') ('world') ('123'))

let a = curry(sum) (1)
console.log('a=', a)
let b = a (2)
console.log('b=', b)
let c = b (3)
console.log('c=', c)

let middle = curry (sum) (10, __, 30)
console.log('middle=', middle)

inject (sum) ({a: 2, c: 33}) // -> ({b: Number}) -> sum(a, b, c)



let q = curryWithUndef (sum) (...[1, , 10])
console.log(q)
console.log(q(33))
